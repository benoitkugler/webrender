package text

import (
	"strings"

	pr "github.com/benoitkugler/webrender/css/properties"
)

// Quotes, from https://github.com/unicode-org/cldr/tree/main/common/main
var langQuotes = map[string][2]pr.Strings{
	"":           {{`“`, `‘`}, {`”`, `’`}}, // Default, chosen by user agent
	"ab":         {{`«`, `„`}, {`»`, `“`}},
	"agq":        {{`„`, `‚`}, {`”`, `’`}},
	"am":         {{`«`, `‹`}, {`»`, `›`}},
	"an":         {{`«`, `”`}, {`»`, `”`}},
	"ar":         {{`”`, `’`}, {`“`, `‘`}},
	"ast":        {{`«`, `“`}, {`»`, `”`}},
	"az_Arab":    {{`«`, `‹`}, {`»`, `›`}},
	"az_Cyrl":    {{`«`, `‹`}, {`»`, `›`}},
	"bas":        {{`«`, `„`}, {`»`, `“`}},
	"be":         {{`«`, `„`}, {`»`, `“`}},
	"bg":         {{`„`}, {`“`}},
	"blo":        {{`«`, `“`}, {`»`, `”`}},
	"bm":         {{`«`, `“`}, {`»`, `”`}},
	"br":         {{`«`, `“`}, {`»`, `”`}},
	"bs":         {{`„`, `‘`}, {`”`, `’`}},
	"bs_Cyrl":    {{`„`, `‚`}, {`“`, `‘`}},
	"ca":         {{`«`, `“`}, {`»`, `”`}},
	"co":         {{`«`}, {`»`}},
	"cs":         {{`„`, `‚`}, {`“`, `‘`}},
	"cu":         {{`«`, `„`}, {`»`, `“`}},
	"cv":         {{`«`, `„`}, {`»`, `“`}},
	"de":         {{`„`, `‚`}, {`“`, `‘`}},
	"dsb":        {{`„`, `‚`}, {`“`, `‘`}},
	"dua":        {{`«`, `‘`}, {`»`, `’`}},
	"dyo":        {{`«`, `“`}, {`»`, `”`}},
	"el":         {{`«`, `“`}, {`»`, `”`}},
	"el_POLYTON": {{`«`, `‘`}, {`»`, `’`}},
	"es_US":      {{`«`, `“`}, {`»`, `”`}},
	"et":         {{`„`, `‚`}, {`“`, `‘`}},
	"eu":         {{`«`, `“`}, {`»`, `”`}},
	"ewo":        {{`«`, `“`}, {`»`, `”`}},
	"fa":         {{`«`, `‹`}, {`»`, `›`}},
	"ff":         {{`„`, `‚`}, {`”`, `’`}},
	"fi":         {{`”`, `’`}, {`”`, `’`}},
	"fr":         {{`«`}, {`»`}},
	"fr_CA":      {{`«`, `”`}, {`»`, `“`}},
	"fr_CH":      {{`«`, `‹`}, {`»`, `›`}},
	"fur":        {{`‘`, `“`}, {`’`, `”`}},
	"gsw":        {{`«`, `‹`}, {`»`, `›`}},
	"he":         {{`”`, `’`}, {`”`, `’`}},
	"hr":         {{`„`, `‚`}, {`“`, `‘`}},
	"hsb":        {{`„`, `‚`}, {`“`, `‘`}},
	"hu":         {{`„`, `»`}, {`”`, `«`}},
	"hy":         {{`«`}, {`»`}},
	"ia":         {{`‘`, `“`}, {`’`, `”`}},
	"ie":         {{`«`, `“`}, {`»`, `”`}},
	"is":         {{`„`, `‚`}, {`“`, `‘`}},
	"it":         {{`«`, `“`}, {`»`, `”`}},
	"it_CH":      {{`«`, `‹`}, {`»`, `›`}},
	"ja":         {{`「`, `『`}, {`」`, `』`}},
	"jgo":        {{`«`, `‹`}, {`»`, `›`}},
	"ka":         {{`„`, `«`}, {`“`, `»`}},
	"kab":        {{`«`, `“`}, {`»`, `”`}},
	"kk":         {{`«`, `“`}, {`»`, `”`}},
	"kkj":        {{`«`, `‹`}, {`»`, `›`}},
	"kl":         {{`»`, `›`}, {`«`, `‹`}},
	"ksf":        {{`«`, `‘`}, {`»`, `’`}},
	"ksh":        {{`„`, `‚`}, {`“`, `‘`}},
	"ky":         {{`«`, `„`}, {`»`, `“`}},
	"lag":        {{`”`, `’`}, {`”`, `’`}},
	"lb":         {{`„`, `‚`}, {`“`, `‘`}},
	"lij":        {{`«`, `“`}, {`»`, `”`}},
	"lt":         {{`„`}, {`“`}},
	"luy":        {{`„`, `‚`}, {`“`, `‘`}},
	"mg":         {{`«`, `“`}, {`»`, `”`}},
	"mk":         {{`„`, `‚`}, {`“`, `‘`}},
	"ms_Arab":    {{`”`, `’`}, {`“`, `‘`}},
	"mua":        {{`«`, `“`}, {`»`, `”`}},
	"mzn":        {{`«`, `‹`}, {`»`, `›`}},
	"nds":        {{`„`, `‚`}, {`“`, `‘`}},
	"nl":         {{`‘`}, {`’`}},
	"nmg":        {{`„`, `«`}, {`”`, `»`}},
	"nnh":        {{`«`, `“`}, {`»`, `”`}},
	"no":         {{`«`, `‘`}, {`»`, `’`}},
	"nr":         {{`‘`, `“`}, {`’`, `”`}},
	"nso":        {{`‘`, `“`}, {`’`, `”`}},
	"oc":         {{`«`}, {`»`}},
	"oc_ES":      {{`«`, `“`}, {`»`, `”`}},
	"os":         {{`«`, `„`}, {`»`, `“`}},
	"pl":         {{`„`, `«`}, {`”`, `»`}},
	"prg":        {{`„`}, {`“`}},
	"pt_PT":      {{`«`, `“`}, {`»`, `”`}},
	"rm":         {{`«`, `‹`}, {`»`, `›`}},
	"rn":         {{`”`, `’`}, {`”`, `’`}},
	"ro":         {{`„`, `«`}, {`”`, `»`}},
	"ru":         {{`«`, `„`}, {`»`, `“`}},
	"rw":         {{`«`, `‘`}, {`»`, `’`}},
	"sah":        {{`«`, `„`}, {`»`, `“`}},
	"sc":         {{`«`, `“`}, {`»`, `”`}},
	"sdh":        {{`«`, `‹`}, {`»`, `›`}},
	"se":         {{`”`, `’`}, {`”`, `’`}},
	"sg":         {{`«`, `“`}, {`»`, `”`}},
	"shi":        {{`«`, `„`}, {`»`, `”`}},
	"sk":         {{`„`, `‚`}, {`“`, `‘`}},
	"sl":         {{`„`, `‚`}, {`“`, `‘`}},
	"sn":         {{`”`, `’`}, {`”`, `’`}},
	"sq":         {{`«`, `“`}, {`»`, `”`}},
	"sr":         {{`„`, `‘`}, {`“`, `‘`}},
	"sr_Latn":    {{`„`, `‘`}, {`“`, `‘`}},
	"ss":         {{`‘`, `“`}, {`’`, `”`}},
	"st":         {{`‘`, `“`}, {`’`, `”`}},
	"sv":         {{`”`, `’`}, {`”`, `’`}},
	"syr":        {{`”`, `’`}, {`“`, `‘`}},
	"szl":        {{`„`, `»`}, {`”`, `«`}},
	"tg":         {{`»`, `‘`}, {`«`, `’`}},
	"ti":         {{`«`, `“`}, {`»`, `”`}},
	"ti_ER":      {{`‘`, `“`}, {`’`, `”`}},
	"tk":         {{`“`}, {`”`}},
	"tn":         {{`‘`, `“`}, {`’`, `”`}},
	"ts":         {{`‘`, `“`}, {`’`, `”`}},
	"ug":         {{`»`, `›`}, {`«`, `‹`}},
	"uk":         {{`«`, `„`}, {`»`, `“`}},
	"ur":         {{`”`, `’`}, {`“`, `‘`}},
	"uz":         {{`“`, `’`}, {`”`, `‘`}},
	"ve":         {{`‘`, `“`}, {`’`, `”`}},
	"wae":        {{`«`, `‹`}, {`»`, `›`}},
	"yav":        {{`«`}, {`»`}},
	"yi":         {{`”`, `’`}, {`”`, `’`}},
	"yue":        {{`「`, `『`}, {`」`, `』`}},
	"zgh":        {{`«`, `„`}, {`»`, `”`}},
	"zh_Hant":    {{`「`, `『`}, {`」`, `』`}},
}

func GetLangQuotes(lang string) (open, close pr.Strings) {
	// TODO: maybe use lang package
	if quotes, ok := langQuotes[lang]; ok {
		return quotes[0], quotes[1]
	}
	// Revert to find long names before short ones
	for key, value := range langQuotes {
		if key != "" && strings.HasPrefix(lang, key) {
			return value[0], value[1]
		}
	}
	return langQuotes[""][0], langQuotes[""][1]
}
